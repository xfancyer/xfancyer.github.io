<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<style type="text/css">
		*{
			margin:0;padding:0;
		}
		body,html{
			width:100%;height:100%;
		}
	</style>
	<body>
		
		
		<script type="text/javascript">

		
		
				var w = window.innerWidth;
				var h = window.innerHeight;
				var can = document.createElement('canvas')//新建画布
				//can.style.width=w,"height":h})
				can.width =w;
				can.height = h;
				var ctx = can.getContext('2d')
				document.body.appendChild(can)
				setInterval(loop,400);
				//loop();
				//生成圆的构造器
				
				function Yuan(){//位置，颜色
					this.x = w*0.5; //定义固定的位置
					this.y = h*0.8;
					this.Scolor = sColor();
					
					this.valY = -9;//一个变化的数（加速度变化）
					this.z = 0.1;//每次变化0.1 竖直方向
					this.valX = 0;
					this.opa = 1;
					this.opacity = 1;
					
					
					this.yuan = function(){//绘画圆
						
						ctx.beginPath();//开始绘画
						ctx.fillStyle = this.Scolor;//填充颜色
						
						ctx.arc(this.x,this.y,10,0,Math.PI*2)//当前x的坐标，y的坐标，半径，起始弧度，结束弧度
						ctx.fill();//实心圆
						ctx.closePath();//结束绘画
						
					}
					this.weizhi = function(){//原位置的变化方法
						this.valY+=this.z//对this.valY变化 每次变化this.z(0.1) 
						
						this.y+=this.valY;//!!!!!!!		
						this.x+=this.valX;
						this.opacity-=0.02
						console.log()
						//同上，this.x 是什么？
						//答：this.x是当前位置坐标点 ,在ctx.arc(this.x当前x坐标,this.y,...)中使用过
						
					}
					this.opa = function(){
/*						console.log(this.opacity)
						this.opacity-=0.02;
						if(this.opacity <= 0){
							this.opacity = 0;
						}*/
						console.log(this)
						//console.log(this.opacity)
					}
				}
				var arr = [];
				function loop(){//无限循环的方法
					
					ctx.clearRect(0,0,w,h)
//					var x = Math.random()*w;
//					var y = Math.random()*h;
//					var color = sColor();//调用获得随机颜色的方法
					var qiu = new Yuan();//构造对象
					qiu.valX = this.valX = Math.random()*5+(-Math.random()*5);
					arr.push(qiu)//将构造的对象添加入arr中，方便之后的调取获得,重建画布
					for(var i in arr){
						arr[i].yuan();//对 对象中的yuan的方法调用
						arr[i].weizhi();
						
					}
					
				}

				function sColor(){
					return "rgb("+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+")"
				}
				function randX(){
					return Math.random()*5+(-Math.random()*5)
				}
		</script>
	</body>
</html>
