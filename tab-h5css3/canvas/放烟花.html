<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Document</title>
	<style type="text/css">
		*{padding: 0;margin: 0;}
		html,body{
			width: 100%;
			height: 100%;
			overflow: hidden;
			background: #000;
		}
	</style>
</head>
<body>
	<script>
		var can=document.createElement("canvas")
		var ctx=can.getContext("2d")
		var w=window.innerWidth
		var h=window.innerHeight
		init()
		function init(){
			can.width=w
			can.height=h
			document.body.appendChild(can)
			setInterval(loop,50)
		}
		/*生成圆的构造器
		 */
		function Yuan(x,y,Scolor){
			this.x=x
			this.y=y
			this.valY=-9
			this.z=0.1
			this.valX=0
			this.Scolor=Scolor
			this.yuan=function(){
				ctx.beginPath()
				ctx.fillStyle=this.Scolor
				ctx.arc(this.x,this.y,8,0,Math.PI*2)
				ctx.fill()
				ctx.closePath()
			}
			this.weizhi=function(){
				this.valY+=this.z
				this.y+=this.valY
				this.x+=this.valX
			}
		}
		var arr=[]
		function loop(){
			var x=w*0.5
			var y=h*0.8
			var color=sColor()
			ctx.clearRect(0,0,w,h)
			var qiu=new Yuan(x,y,color)
			qiu.valX=(Math.random()*5)+(Math.random()*-5)
			arr.push(qiu)
			for(var i in arr){
				arr[i].yuan()
				arr[i].weizhi()
			}
			console.log(arr.length)
			if(arr.length>500){
				arr.shift()
			}
			
			
			
		}
		
		function sColor(){
			return "rgba("+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+",1)"
		}
		
		
	</script>
</body>
</html>