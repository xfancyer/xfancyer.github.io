<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>选项卡组件</title>
</head>
<script src="build/react.js" type="text/javascript" charset="utf-8"></script>
<script src="build/react-dom.js" type="text/javascript" charset="utf-8"></script>
<script src="build/browser.min.js" type="text/javascript" charset="utf-8"></script>
<style>
	*{margin:0;padding:0;box-sizing:border-box;}
	li{list-style:none;}
	body,html{height:100%;overflow:hidden;}
	.page,.header,.content,.footer{
		position:absolute;left:0;width:100%;
	}
	.page{
		bottom:0;overflow:hidden;
		top:0;
	}
	.header{
		top:0;height:50px;
		border-bottom:1px solid #ccc;
		line-height: 50px;display:flex;
		text-align:center;
	}
	.header-tit{
		flex:1;
	}
	.header-btn{
		width:70px;
	}
	.content{
		top:50px;
		bottom:50px;
	}
	.footer{
		bottom:0;height:50px;
		line-height:50px;
		border-top:1px solid #ccc;
	}
	.footer li{
		float:left;width:25%;
		text-align:center;

	}

	/*登录部分*/
	.login-list{}

</style>
<script src="build/react.js" type="text/javascript" charset="utf-8"></script>
<script src="build/react-dom.js" type="text/javascript" charset="utf-8"></script>
<script src="build/browser.min.js" type="text/javascript" charset="utf-8"></script>

<body>
<div id="main"></div>

<script type="text/babel">
var Header = React.createClass({
	render:function(){
		return(
			<div>
				<ul className="header">
					<li className="header-btn">返回</li>
					<li className="header-tit">login</li>
					<li className="header-btn">列表</li>
				</ul>
			</div>
		)
	}
})
var Footer = React.createClass({
	getDefaultProps:function(){
		return{
			footerData:["首页","列表","购物车","我的"]
		}
	},
	render:function(){
		return (
			<div className="footer">
				<ul>
					{
						this.props.footerData.map(function(ele,ind){
							return <li key={ind}>{ele}</li>
						})
					}
				</ul>
			</div>
		)
	}
})

var Content = React.createClass({

	render:function(){
		var contentStyle = {"bottom":this.props.hasFooter?"50px":"0"};
		return (
			<div className="content" style={contentStyle}>{this.props.children}</div>
		)
	}
});

var LoginList  = React.createClass({
	getInitialState:function(){
		//是否显示记住密码
		return {
			remember:false,
			password:"",
			username:'aa'
		}
	},
	changePasswordState:function(){
		this.setState({
			remember:!this.state.remember
		})
	},
	checkPassword:function(ev){
		//敏感词过滤 长度在6~18之间，只能包含字符、数字和下划线
		this.setState({
			password:ev.target.value.replace(/[`~!@#\$%\^\&\*\(\)_\+<>\?:"\{\},\.\\\/;'\[\]]/im,'')
		})
		ev.target.value = ev.target.value.replace(/[`~!@#\$%\^\&\*\(\)_\+<>\?:"\{\},\.\\\/;'\[\]]/im,'')
		console.log(ev.target.value)
	},
	checkUsername:function(ev){
		this.setState({
			username:ev.target.value.replace(/[`~!@#\$%\^\&\*\(\)_\+<>\?:"\{\},\.\\\/;'\[\]]/im,'')
		})
		ev.target.value = ev.target.value.replace(/[`~!@#\$%\^\&\*\(\)_\+<>\?:"\{\},\.\\\/;'\[\]]/im,'')
		console.log(ev.target.value)
	},
	loginIn:function(){
		console.log(this.state.username+' '+this.state.password);

	},
	selectReact:function(ev){
		console.log(ev.target.value)
		console.log(ev.target.selectedIndex)
	}
	render:function(){
		return (
			<ul className="login-list"> 
				<li>
					<input type="text" onChange={this.checkUsername} className="text-bar" defaultValue={this.state.username}/>
				</li>
				<li>
					<input type={this.state.remember?"text":"password"} className="text-bar" onChange={this.checkPassword} value={this.state.password}/>
				</li>
				<li>
					<label for="">
						<input type="checkbox" className="text-bar"/>
						<span>记住密码</span>
					</label>
					<a href="" class="go-forget">忘记密码?</a>
				</li>
				<li>
					<label for="">
						<input type="checkbox" onClick={this.changePasswordState}/>
						<span>显示密码</span>
					</label>
					
				</li>
				<li>
					
					<button className="login-in" onClick={this.loginIn}>登录</button>
				</li>
				<li>
					<input type="checkbox" className="text-bar"/>
					<a className="go-reg">注册</a>
				</li>
				<li>
					<select name="" id="" onChange={this.selectReact}>
						<option value="">react1</option>
						<option value="">react2</option>
						<option value="">react3</option>
					</select>
				</li>
			</ul>
		)
	}
})

var LoginPage = React.createClass({
	render:function(){
		return (
			<div className="page">
				<Header/>
				<Content hasFooter={true}>
					<LoginList/>
				</Content>
				<Footer/>
			</div>
		)
	}
})

ReactDOM.render(<LoginPage/>,document.getElementById('main'));

</script>
</body>
</html>